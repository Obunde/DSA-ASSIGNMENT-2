question2

#include <stdio.h>

struct ListNode {
    int val;
    struct ListNode *next;
};

struct ListNode* detectCycle(struct ListNode *head) {
    if (!head || !head->next)
        return NULL;
    
    struct ListNode *tortoise = head;
    struct ListNode *hare = head;
    
    while (hare && hare->next) {
        tortoise = tortoise->next;
        hare = hare->next->next;
        if (tortoise == hare)
            break;
    }
    
    if (tortoise != hare)
        return NULL;
    
    tortoise = head;
    while (tortoise != hare) {
        tortoise = tortoise->next;
        hare = hare->next;
    }
    
    return tortoise;
}
